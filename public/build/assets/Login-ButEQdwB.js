import{_ as g,c as n,a as e,b as v,d as t,t as w,w as x,e as c,v as b,f as k,g as y,r as _,u as D,h as V,i as u,j as C,o as i}from"./app-DTWS8Zmf.js";const L={name:"Login",setup(){const m=C(),s=D(),d=V({email:"",password:""}),o=u(!1),l=u(null);return{formData:d,loading:o,error:l,handleLogin:async()=>{var r,a;o.value=!0,l.value=null;try{await s.login(d),m.push("/dashboard")}catch(f){l.value=((a=(r=f.response)==null?void 0:r.data)==null?void 0:a.message)||"Error al iniciar sesión. Verifica tus credenciales."}finally{o.value=!1}}}}},S={class:"login-container"},h={class:"login-card"},N={key:0,class:"alert alert-danger alert-dismissible fade show",role:"alert"},I={class:"mb-3"},q=["disabled"],B={class:"mb-3"},E=["disabled"],U=["disabled"],j={key:0},A={key:1},M={class:"text-center mb-0"};function R(m,s,d,o,l,p){const r=_("router-link");return i(),n("div",S,[e("div",h,[s[11]||(s[11]=e("div",{class:"text-center mb-4"},[e("i",{class:"bi bi-receipt login-icon"}),e("h3",{class:"mt-3"},"Iniciar Sesión"),e("p",{class:"text-muted"},"Sistema de Facturación")],-1)),o.error?(i(),n("div",N,[s[4]||(s[4]=e("i",{class:"bi bi-exclamation-triangle-fill me-2"},null,-1)),t(" "+w(o.error)+" ",1),e("button",{type:"button",class:"btn-close",onClick:s[0]||(s[0]=a=>o.error=null)})])):v("",!0),e("form",{onSubmit:s[3]||(s[3]=x((...a)=>o.handleLogin&&o.handleLogin(...a),["prevent"]))},[e("div",I,[s[5]||(s[5]=e("label",{for:"email",class:"form-label"},[e("i",{class:"bi bi-envelope"}),t(" Email ")],-1)),c(e("input",{type:"email",class:"form-control",id:"email","onUpdate:modelValue":s[1]||(s[1]=a=>o.formData.email=a),placeholder:"correo@ejemplo.com",required:"",disabled:o.loading},null,8,q),[[b,o.formData.email]])]),e("div",B,[s[6]||(s[6]=e("label",{for:"password",class:"form-label"},[e("i",{class:"bi bi-lock"}),t(" Contraseña ")],-1)),c(e("input",{type:"password",class:"form-control",id:"password","onUpdate:modelValue":s[2]||(s[2]=a=>o.formData.password=a),placeholder:"••••••••",required:"",disabled:o.loading},null,8,E),[[b,o.formData.password]])]),e("button",{type:"submit",class:"btn btn-primary w-100 mb-3",disabled:o.loading},[o.loading?(i(),n("span",j,[...s[7]||(s[7]=[e("span",{class:"spinner-border spinner-border-sm me-2"},null,-1),t(" Iniciando sesión... ",-1)])])):(i(),n("span",A,[...s[8]||(s[8]=[e("i",{class:"bi bi-box-arrow-in-right me-2"},null,-1),t(" Ingresar ",-1)])]))],8,U),e("p",M,[s[10]||(s[10]=t(" ¿No tienes cuenta? ",-1)),k(r,{to:"/register",class:"text-decoration-none"},{default:y(()=>[...s[9]||(s[9]=[t(" Regístrate aquí ",-1)])]),_:1})])],32),s[12]||(s[12]=e("div",{class:"mt-4 p-3 bg-light rounded"},[e("small",{class:"text-muted d-block mb-2"},[e("strong",null,"Credenciales de prueba:")]),e("small",{class:"text-muted d-block"},[e("strong",null,"Admin:"),t(" admin@admin.com / password ")]),e("small",{class:"text-muted d-block"},[e("strong",null,"Usuario:"),t(" user@user.com / password ")])],-1))])])}const F=g(L,[["render",R],["__scopeId","data-v-044178cf"]]);export{F as default};
